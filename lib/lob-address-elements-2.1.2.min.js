(()=>{var e={787:e=>{var t=function(){"use strict";var e=0;function t(e){var t=[],n=0,i=0;this.push=function(s){e<=n-i&&e<=++i&&(i=0,n=e-1),t[n%e]=s,n++},this.asArray=function(){var s=t.slice(i,Math.min(n,e)),a=t.slice(0,Math.max(n-e,0));return s.concat(a)},this.list=t}function n(t,n){for(var i=n,s=0;s<t.length;s++){var a=t[s],r=i.r;r[a]||(r[a]={w:a,r:{},i:e++}),i=r[a]}return i}function i(e,t,n){var i;return n[e]?i=n[e]:(i=function(e,t){for(var n=[[t,0]],i={},s=[];n.length;){var a=n.shift(),r=a[0],o=a[1],l=r.r,c=e[o];if(void 0===c&&r.fn&&!i[r.i]?(i[r.i]=1,s.push(r.fn)):l[c]&&n.push([l[c],o+1]),l["#"])for(var d=o;d<=e.length;d++)n.push([l["#"],d]);c&&l["*"]&&n.push([l["*"],o+1])}return s}(e.split("."),t),n[e]=i),i}function s(){var s={w:"",r:{},i:e++},a={},r=new t(9999);this.emit=function e(t,n){var o=Date.now();r.push([t,o]);for(var l=i(t,s,a),c=[],d={topic:t,ts:o},u=0;u<l.length;u++)for(var m=l[u],p=0;p<m.length;p++)try{c.push(m[p](n,d))}catch(t){if(!(0<i("error",s,a).length))throw t;e("error",t)}return c},this.on=function(e,t){var i=n(e.split("."),s),r=i.fn||[];return r.push(t),i.fn=r,a={},function(){var e=r.indexOf(t);-1<e&&r.splice(e,1)}},this.history=function(t){var s={w:"",r:{},i:e++};n(t.split("."),s).fn=1;for(var a=[],o={},l=r.asArray(),c=0;c<l.length;c++){var d=l[c];i(d[0],s,o).length&&a.push(d)}return a}}return s.Ring=t,s}();e.exports=t}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{"use strict";n.d(i,{J:()=>A});const e=["united states","united states of america","us","u.s","u.s.","usa","u.s.a","u.s.a"],t=t=>t&&t.length&&!e.includes(t.val().toLowerCase()),s={afghanistan:"AF","aland islands":"AX",albania:"AL",algeria:"DZ","american samoa":"AS",andorra:"AD",angola:"AO",anguilla:"AI",antarctica:"AQ","antigua and barbuda":"AG",argentina:"AR",armenia:"AM",aruba:"AW",australia:"AU",austria:"AT",azerbaijan:"AZ",bahamas:"BS",bahrain:"BH",bangladesh:"BD",barbados:"BB",belarus:"BY",belgium:"BE",belize:"BZ",benin:"BJ",bermuda:"BM",bhutan:"BT",bolivia:"BO","bonaire, saint eustatius and saba":"BQ","bosnia and herzegovina":"BA",botswana:"BW","bouvet island":"BV",brazil:"BR","british indian ocean territory":"IO","british virgin islands":"VG",brunei:"BN",bulgaria:"BG","burkina faso":"BF",burundi:"BI",cambodia:"KH",cameroon:"CM",canada:"CA","cape verde":"CV","cayman islands":"KY","central african republic":"CF",chad:"TD",chile:"CL",china:"CN","christmas island":"CX","cocos islands":"CC",colombia:"CO",comoros:"KM","cook islands":"CK","costa rica":"CR",croatia:"HR",cuba:"CU",curacao:"CW",cyprus:"CY","czech republic":"CZ","democratic republic of the congo":"CD",denmark:"DK",djibouti:"DJ",dominica:"DM","dominican republic":"DO","east timor":"TL",ecuador:"EC",egypt:"EG","el salvador":"SV","equatorial guinea":"GQ",eritrea:"ER",estonia:"EE",ethiopia:"ET","falkland islands":"FK","faroe islands":"FO",fiji:"FJ",finland:"FI",france:"FR","french guiana":"GF","french polynesia":"PF","french southern territories":"TF",gabon:"GA",gambia:"GM",georgia:"GE",germany:"DE",ghana:"GH",gibraltar:"GI",greece:"GR",greenland:"GL",grenada:"GD",guadeloupe:"GP",guam:"GU",guatemala:"GT",guernsey:"GG",guinea:"GN","guinea-bissau":"GW",guyana:"GY",haiti:"HT","heard island and mcdonald islands":"HM",honduras:"HN","hong kong":"HK",hungary:"HU",iceland:"IS",india:"IN",indonesia:"ID",iran:"IR",iraq:"IQ",ireland:"IE","isle of man":"IM",israel:"IL",italy:"IT","ivory coast":"CI",jamaica:"JM",japan:"JP",jersey:"JE",jordan:"JO",kazakhstan:"KZ",kenya:"KE",kiribati:"KI",kosovo:"XK",kuwait:"KW",kyrgyzstan:"KG",laos:"LA",latvia:"LV",lebanon:"LB",lesotho:"LS",liberia:"LR",libya:"LY",liechtenstein:"LI",lithuania:"LT",luxembourg:"LU",macao:"MO",macedonia:"MK",madagascar:"MG",malawi:"MW",malaysia:"MY",maldives:"MV",mali:"ML",malta:"MT","marshall islands":"MH",martinique:"MQ",mauritania:"MR",mauritius:"MU",mayotte:"YT",mexico:"MX",micronesia:"FM",moldova:"MD",monaco:"MC",mongolia:"MN",montenegro:"ME",montserrat:"MS",morocco:"MA",mozambique:"MZ",myanmar:"MM",namibia:"NA",nauru:"NR",nepal:"NP",netherlands:"NL","netherlands antilles":"AN","new caledonia":"NC","new zealand":"NZ",nicaragua:"NI",niger:"NE",nigeria:"NG",niue:"NU","norfolk island":"NF","north korea":"KP","northern mariana islands":"MP",norway:"NO",oman:"OM",pakistan:"PK",palau:"PW","palestinian territory":"PS",panama:"PA","papua new guinea":"PG",paraguay:"PY",peru:"PE",philippines:"PH",pitcairn:"PN",poland:"PL",portugal:"PT","puerto rico":"PR",qatar:"QA","republic of the congo":"CG",reunion:"RE",romania:"RO",russia:"RU",rwanda:"RW","saint barthelemy":"BL","saint helena":"SH","saint kitts and nevis":"KN","saint lucia":"LC","saint martin":"MF","saint pierre and miquelon":"PM","saint vincent and the grenadines":"VC",samoa:"WS","san marino":"SM","sao tome and principe":"ST","saudi arabia":"SA",senegal:"SN",serbia:"RS","serbia and montenegro":"CS",seychelles:"SC","sierra leone":"SL",singapore:"SG","sint maarten":"SX",slovakia:"SK",slovenia:"SI","solomon islands":"SB",somalia:"SO","south africa":"ZA","south georgia and the south sandwich islands":"GS","south korea":"KR","south sudan":"SS",spain:"ES","sri lanka":"LK",sudan:"SD",suriname:"SR","svalbard and jan mayen":"SJ",swaziland:"SZ",sweden:"SE",switzerland:"CH",syria:"SY",taiwan:"TW",tajikistan:"TJ",tanzania:"TZ",thailand:"TH",togo:"TG",tokelau:"TK",tonga:"TO","trinidad and tobago":"TT",tunisia:"TN",turkey:"TR",turkmenistan:"TM","turks and caicos islands":"TC",tuvalu:"TV","u.s. virgin islands":"VI",uganda:"UG",ukraine:"UA","united arab emirates":"AE","united kingdom":"GB","united states":"US","united states minor outlying islands":"UM",uruguay:"UY",uzbekistan:"UZ",vanuatu:"VU",vatican:"VA",venezuela:"VE",vietnam:"VN","wallis and futuna":"WF","western sahara":"EH",yemen:"YE",zambia:"ZM",zimbabwe:"ZW"},a=(e,t)=>{if(t&&t.length&&e&&e.length){let n;return e.each((function(e,i){t.is(i.closest("form"))&&(n=$(i))})),n||e}return e},r=(e,t=null)=>{let n;const i=$("*[data-lob-"+e+"-id]").attr("data-lob-"+e+"-id");if(i)n=$("*[id="+i+"]");else{const t=$("*[data-lob-"+e+"-name]").attr("data-lob-"+e+"-name"),i=$("*[data-lob-"+e+"-class]").attr("data-lob-"+e+"-class");n=t?$("*[name="+t+"]"):i?$("."+i):$("*[data-lob-"+e+"]")}return a(n,t)},o=(e,t)=>{const n=r(e,t);return n.length&&n.attr("data-lob-"+e)||$("*[data-lob-"+e+"-value]").attr("data-lob-"+e+"-value")},l=e=>e.reduce(((e,t)=>{return[...e,t,(n=t,n.charAt(0).toUpperCase()+n.slice(1)),t.toUpperCase()];var n}),[]),c={primary:l(["primary","address","address1","street"]),secondary:l(["address 2","address2","street 2","secondary","apartment","suite","building","unit","apt","ste","bldg"]),city:l(["city","town"]),state:l(["state","province","county","district","municipality"]),zip:l(["zip","postal","postcode"]),country:l(["country"])},d=(e,t)=>{const n=r(e,t);return n.length?n:null},u=(e,t)=>{const n=c[e].map((e=>`:contains('${e}')`)).join(", ");let i=$(n);if("primary"===e&&(i=i.filter(((e,t)=>!/(address|street)\s?2/i.test($(t).text())))),!i.length)return null;const s=i.filter("label");let r=$();return s.each(((e,t)=>{const n=(e=>{const t=e.htmlFor;if(t)return $(`*[id=${t}]`);const n=e.siblings("input");if(n.length)return n;const i=e.children("input");if(i.length)return i;const s=e.parentsUntil("form","input");return s.length?s:$()})(t);r=r.add(n)})),r.length?a(r,t):null},m=e=>{const t={...c};"secondary"===e&&(t.secondary=t.secondary.concat(l(["address"])));const n=t[e].map((e=>`input[id*='${e}'], select[id*='${e}']`)).join(", ");let i=$(n);return"primary"===e?i=i.filter(":not(input[name*='2']):not(input[for*='2']):not(input[id*='2'])"):"secondary"===e&&(i=i.filter(":not(input[name*='1']):not(input[for*='1']):not(input[id*='1'])")),i.length?i:null},p=e=>{let n="";const i=t(e.country),s=Object.keys(e).filter((t=>{if("country"===t)return!1;if("state"===t&&i)return!1;const n=e[t];return null===n||n&&0===n.length})),a=Object.keys(e).filter((t=>{const n=e[t];return n&&n.filter(":visible").length>1}));if(s.length){const e=s.length>1?`${s.slice(0,-1).join(", ")}, and ${s.slice(-1)}`:s[0].toString(),t=s.map((e=>`data-lob-${e}-id`)).join(", "),i=`[Lob AV Elements Error]:\tMissing form elements\nCould not find inputs for ${e}.\nPlease add the following attributes to the AV elements script: ${t}\nFor more information visit: https://www.lob.com/guides#av-elements-troubleshooting`,a=`<p style="text-align: left">[Lob AV Elements Error] Missing form elements<br/>Could not find inputs for ${e}. Please add the following attributes to the AV elements script: <strong>${t}</strong>.<br/>For more information visit <a href="https://www.lob.com/guides#av-elements-troubleshooting">https://www.lob.com/guides#av-elements-troubleshooting</a></p>`;console.error(i),n=a}if(a.length){const e=a.length>1?`${a.slice(0,-1).join(", ")}, and ${a.slice(-1)}`:a[0].toString(),t=a.map((e=>`data-lob-${e}-id`)).join(", "),i=`[Lob AV Elements Error]:\tDuplicate form elements\nMultiple form elements were found for ${e}.\nPlease specify them by adding the following attributes to the AV elements script: ${t}\nFor more information visit: https://www.lob.com/guides#av-elements-troubleshooting`,s=`<p style="text-align: left">[Lob AV Elements Error] Duplicate form elements<br/>Multiple form elements were found for ${e}. Please specify them by adding the following attributes to the AV elements script: <strong>${t}</strong>.<br/>For more information visit <a href="https://www.lob.com/guides#av-elements-troubleshooting">https://www.lob.com/guides#av-elements-troubleshooting</a></p>`;console.error(i),n+=s}return n},g=e=>{const t={errorAnchorElement:r("verify-message-anchor",e),primaryMsg:r("primary-message",e).hide(),secondaryMsg:r("secondary-message",e).hide(),cityMsg:r("city-message",e).hide(),stateMsg:r("state-message",e).hide(),zipMsg:r("zip-message",e).hide(),countryMsg:r("country-message",e).hide(),message:r("verify-message",e).hide()},n={};return["primary","secondary","city","state","zip","country"].forEach((t=>{n[t]=d(t,e),n[t]||(n[t]=u(t,e)),(!n[t]||n[t]&&n[t].length>1)&&(n[t]=m(t))})),{...t,...n,parseResultError:p(n),form:e}};function h(e,t,n){return o(t+"-"+n)||e.styles[t+"-"+n]}const f=(e,t)=>{const n=Object.keys(e).length<=1&&e.constructor===Object;return void 0===e||n?r("suggestion-stylesheet",t).length>0:!!e};let y=!1,b=!1;class v{constructor(e,t,n){this.pageState=n||A()[0],this.config={channel:t.channel,api_key:t.api_key||o("key"),strictness:this.pageState.strictness,denormalize:"false"!==o("secondary"),suppress_stylesheet:f(t),styles:t.styles||{"err-color":"#117ab8","err-bgcolor":"#eeeeee","suggestion-color":"#666666","suggestion-bgcolor":"#fefefe","suggestion-bordercolor":"#a8a8a8","suggestion-activecolor":"#117ab8","suggestion-activebgcolor":"#eeeeee"},elements:t.elements||g(this.pageState.form),messages:t.messages||{primary_line:o("err-primary-line")||"Enter the Primary address.",city_state_zip:o("err-city-state-zip")||"Enter City and State (or Zip).",country:o("err-country")||"Enter a country",zip:o("err-zip")||"Enter a valid Zip.",undeliverable:o("err-undeliverable")||"The address could not be verified.",deliverable_missing_unit:o("err-missing-unit")||"Enter a Suite or Unit.",deliverable_unnecessary_unit:o("err-unnecessary-unit")||"Suite or Unit unnecessary.",deliverable_incorrect_unit:o("err-incorrect-unit")||"Incorrect Unit. Please confirm.",confirm:o("err-confirm")||"Did you mean",DEFAULT:o("err-default")||"Unknown Error. The address could not be verified."},apis:t.apis||{autocomplete:"https://api.lob.com/v1/us_autocompletions",intl_verify:"https://api.lob.com/v1/intl_verifications",us_verify:"https://api.lob.com/v1/us_verifications"},do:{init:function(){v(e,t,this.pageState)}}},this.pageState.autocomplete&&this.configureAutocompletion(),this.pageState.verify&&this.configureVerification(),this.config.channel.emit("elements.enriched",{config:this.config,form:this.config.elements.form[0]})}hideMessages(){const{elements:e}=this.config;e.message.hide(),e.primaryMsg.hide(),e.secondaryMsg.hide(),e.cityMsg.hide(),e.stateMsg.hide(),e.zipMsg.hide()}showMessage(e){const{channel:t,elements:{message:n,primaryMsg:i,secondaryMsg:s,cityMsg:a,stateMsg:r,zipMsg:o,form:l},messages:c,denormalize:d}=this.config,u={primary_line:e=>{i.text(e).show("slow")},city_state_zip:e=>{a.text(e).show("slow"),r.text(e).show("slow"),o.text(e).show("slow")},zip:e=>{o.text(e).show("slow")},deliverable_missing_unit:e=>{!d&&i.text(e).show("slow")||s.text(e).show("slow")},deliverable_unnecessary_unit:e=>{!d&&i.text(e).show("slow")||s.text(e).show("slow")},deliverable_incorrect_unit:e=>{!d&&i.text(e).show("slow")||s.text(e).show("slow")}};e&&("confirm"===e.type||"form_detection"===e.type?n.html(e.msg).show("slow"):n.text(e.msg).show("slow"),u[e.type]&&u[e.type](c[e.type]),t.emit("elements.us_verification.alert",{error:e,type:e.type,form:l[0]}))}autocomplete(e,n){const{apis:i,api_key:s,channel:a,elements:r}=this.config;if(this.config.international=t(r.country),this.config.international)return!1;if(e.match(/[A-Za-z0-9]/)){const t=new XMLHttpRequest,o=`${i.autocomplete}?av_elements_origin=${window.location.href}`;t.open("POST",o,!0),t.setRequestHeader("Content-Type","application/json"),s&&t.setRequestHeader("Authorization","Basic "+btoa(s+":")),t.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE)if(200===this.status)try{const e=JSON.parse(t.responseText);a.emit("elements.us_autocompletion.suggestion",{suggestions:e.suggestions,form:r.form[0]}),n(e.suggestions)}catch(e){n(null)}else 401===this.status?(console.log("Please sign up on lob.com to get a valid api key."),a.emit("elements.us_autocompletion.error",{code:401,message:"Please sign up on lob.com to get a valid api key.",form:r.form[0]}),n(null)):(a.emit("elements.us_autocompletion.error",{code:500,message:"Unknown error.",form:r.form[0]}),n(null))},t.send(JSON.stringify({address_prefix:e,city:r.city.val(),zip_code:r.zip.val(),state:r.state.val(),geo_ip_sort:!0}))}return!1}applySuggestion(e){const{elements:t}=this.config;"function"==typeof t.primary.autocomplete?t.primary.autocomplete("val",e.primary_line):t.primary.val(e.primary_line),t.secondary.val(""),t.city.val(e.city),t.state.val(e.state),t.zip.val(e.zip_code)}configureAutocompletion(){const{elements:e,channel:t,suppress_stylesheet:n}=this.config;var i;n||y||(y=!0,$("<style>").prop("type","text/css").html((i=this.config,`.algolia-autocomplete {\n    display: ${(e=>"block"===e.elements.primary.css("display").toLowerCase()?"block":"")(i)};\n    width: ${(e=>"block"===e.elements.primary.css("display").toLowerCase()?"100%":e.elements.primary.css("width")||e.elements.primary.outerWidth()+"px")(i)};\n    vertical-align: middle;\n  }\n  .aa-dropdown-menu {\n    width: 100%;\n    border: 1px solid ${h(i,"suggestion","bordercolor")};\n    border-top: 0;\n    background-color: ${h(i,"suggestion","bgcolor")};\n    overflow: hidden;\n    border-radius: 0 0 .25rem .25rem;\n    margin-top:-5px;\n  }\n  .aa-suggestion {\n    cursor: pointer;\n    padding: 6px 12px;\n    color: ${h(i,"suggestion","color")};\n  }\n  .aa-suggestion:hover,\n  .aa-suggestion:active,\n  .aa-suggestion.aa-cursor  {\n    color: ${h(i,"suggestion","activecolor")};\n    background-color: ${h(i,"suggestion","activebgcolor")};\n  }\n  .aa-suggestion div {\n    white-space: nowrap !important;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .aa-suggestion span {\n    font-size: .8em;\n  }`)).appendTo("head"));"function"==typeof e.primary.autocomplete&&e.primary.autocomplete({hint:!1},{source:this.autocomplete.bind(this),templates:{suggestion:({primary_line:e,city:t,state:n,zip_code:i})=>$(`<div>${e} <span>${t}, ${n} ${i}</span></div>`)},cache:!1}).on("autocomplete:selected",((n,i)=>{this.applySuggestion(i),t.emit("elements.us_autocompletion.selection",{selection:i,form:e.form[0]})}))}parseJSON(e){try{return JSON.parse(e)}catch(e){return console.log("Error parsing json",e),{error:{message:"DEFAULT"}}}}plus4(e){const t=[];return e.zip_code&&t.push(e.zip_code),e.zip_code_plus_4&&t.push(e.zip_code_plus_4),t.length?t.join("-"):""}denormalizeParts(e,t){const n=e.components&&e.components.secondary_designator||"";if(e.secondary_line||!this.config.denormalize)return{secondary_line:e.secondary_line,primary_line:e.primary_line};if(n&&t){const t=e.primary_line.split(n);return{secondary_line:`${n} ${t[1].trim()}`,primary_line:t[0].trim()}}return{secondary_line:e.secondary_line,primary_line:e.primary_line}}formatAddressFromResponseData(e){const{components:t}=e,n=this.denormalizeParts(e,!!this.config.elements.secondary.val());return{primary:n.primary_line,secondary:n.secondary_line,city:t&&t.city||"",state:t&&t.state||"",zip:this.config.international?t.postal_code:this.plus4(t)}}fixAndSave(e,t=!0){const{elements:n,international:i}=this.config;let s=!1;const a=this.config.address=this.formatAddressFromResponseData(e);for(let e in a)if(a.hasOwnProperty(e)){const r=n[e].val(),o=a[e].toUpperCase()!==r.toUpperCase(),l=!("zip"===e&&5===r.length&&0===a[e].indexOf(r));o&&!i&&l&&(s=!0),t&&n[e].val(a[e])}return s}resolveErrorType(e){return"primary_line is required or address is required"===e?"primary_line":"zip_code is required or both city and state are required"===e?"city_state_zip":"zip_code must be in a valid zip or zip+4 format"===e?"zip":"country is required"===e?"country":e in this.config.messages?e:"DEFAULT"}isConfirmation(){const{address:e,elements:t,strictness:n}=this.config;if("passthrough"!==n&&e){for(let n in e)if(e.hasOwnProperty(n)&&t[n].val().toUpperCase()!==e[n].toUpperCase())return!1;return!0}return!1}isVerified(e,t){const{confirmed:n,strictness:i}=this.config,s=this.fixAndSave(e,!1);return!t||"deliverable"===e.deliverability&&!s||"undeliverable"===e.deliverability&&n&&"passthrough"===i||"deliverable_missing_unit"===e.deliverability&&n&&"strict"!==i||"deliverable_unnecessary_unit"===e.deliverability&&n&&"strict"!==i||"deliverable_incorrect_unit"===e.deliverability&&n&&"strict"!==i}format(e,t){for(let n in t)e=e.replace("{"+n+"}",t[n]);return e}createDidYouMeanMessage(e){const{primary:t,secondary:n,city:i,state:s,zip:a}=this.formatAddressFromResponseData(e);return`\n      <span style="cursor: pointer">\n        ${this.config.messages.confirm} <span style="text-decoration: underline">${`${t} ${n} ${i} ${s} ${a}`}</span>?\n      </span>\n    `}verify(e){const{apis:n,api_key:i,channel:a,elements:{primary:r,secondary:o,city:l,state:c,zip:d,country:u,message:m,form:p},messages:g}=this.config;this.config.international=t(u),this.config.submit="passthrough"===this.config.strictness,this.config.confirmed=this.isConfirmation();const h={primary_line:r.val(),secondary_line:o.val(),city:l.val(),state:c.val()};if(this.config.international){const e=u.val().toLowerCase();h.country=2===u.length?e:s[e],h.postal_code=d.val()}else h.zip_code=d.val();const f=(this.config.international?n.intl_verify:n.us_verify)+"?av_elements_origin="+window.location.href,y=new XMLHttpRequest;y.open("POST",f,!0),y.setRequestHeader("Content-Type","application/json"),i&&y.setRequestHeader("Authorization","Basic "+btoa(i+":"));const b=this;return y.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){let t,n=b.parseJSON(y.responseText);if(this.status&&200!==this.status||n.statusCode&&200!==n.statusCode)401===this.status?(console.log("Please sign up on lob.com to get a valid api key."),a.emit("elements.us_verification.error",{code:401,type:"authorization",data:n,form:p[0]}),e(null,!0)):(n=n&&n.body||n,t=b.resolveErrorType(n.error.message),a.emit("elements.us_verification.error",{code:n.error.code||0,type:t,data:n,form:p[0]}),e({msg:g[t],type:t}));else if(n=n&&n.body||n,b.isVerified(n,this.status))a.emit("elements.us_verification.verification",{code:200,data:n,form:p[0]}),e(null,!0);else if("deliverable"===n.deliverability){const t=b.createDidYouMeanMessage(n);m.click((()=>{b.fixAndSave(n),b.hideMessages(),m.off("click"),a.emit("elements.us_verification.improvement",{data:n,form:p[0]})})),e({msg:t,type:"confirm"})}else t=b.resolveErrorType(n.deliverability),a.emit("elements.us_verification.error",{code:200,type:"verification",data:n,form:p[0]}),e({msg:g[t],type:t})}},y.send(JSON.stringify(h)),!1}prioritizeHandler(e,t){const n=$._data(e.get(0),"events");n[t].unshift(n[t].pop())}verifyCallback(e,t){const{elements:n,override:i,strictness:s,submit:a}=this.config;a||i?(this.showMessage(e),this.config.submitted=!0,this.config.override=!1,n.form.off(".avSubmit",this.preFlight.bind(this)),n.form.unbind(".avSubmit"),n.form.trigger("submit"),n.form.get(0).submit(),n.form.on("submit.avSubmit",this.preFlight.bind(this)),this.prioritizeHandler(n.form,"submit")):t?(this.config.submitted=!0,this.config.override=!1,n.form.off(".avSubmit",this.preFlight.bind(this)),n.form.unbind(".avSubmit"),n.form.trigger("submit"),n.form.get(0).submit()):(this.showMessage(e),this.config.override="passthrough"===s||("undeliverable"===e.type?"relaxed"===s:"DEFAULT"!==e.type&&"strict"!==this.config.strictness))}preFlight=e=>(e.stopImmediatePropagation(),e.preventDefault(),this.hideMessages(),this.config.elements.message.off("click"),this.verify(this.verifyCallback.bind(this)));configureVerification(){const{elements:e}=this.config;if(this.pageState.create_message){const n=$('<div class="lob-verify-message"></div>'),i=e.errorAnchorElement;i.length?n.insertBefore(i):e.form.prepend(n),e.message=n,b||(b=!0,$("<style>").prop("type","text/css").html((t=this.config,`\n  .lob-verify-message {\n    background-color: ${h(t,"err","bgcolor")};\n    border-radius: .25rem;\n    color: ${h(t,"err","color")};\n    display: none;\n    left: 50%;\n    margin-bottom: 1.5rem;\n    margin-right: -50%;\n    margin-top: 1.5rem;\n    max-width: 100%;\n    padding: .5rem;\n    position: relative;\n    text-align: center;\n    transform: translate(-50%, 0%);\n    width: 100%;\n  }`)).appendTo("head"))}var t;""!==e.parseResultError&&this.showMessage({type:"form_detection",msg:e.parseResultError}),e.form.on("submit.avSubmit",this.preFlight.bind(this)),this.prioritizeHandler(e.form,"submit")}}var w=n(787),_=n.n(w);const M=()=>{const e=new(_())("lob-address-elements");return{channel:e,instances:[],on:e.on}},A=e=>{const t=(()=>{const e=d("primary")||$(),t=u("primary")||$(),n=m("primary")||$();return e.add(t).add(n)})(),n=[];return t.each(((t,i)=>{const s=(i=$(i)).closest("form"),a=((e,t)=>{const n=["false","strict","normal","relaxed","passthrough"];if(e&&n.indexOf(e)>-1)return e;{const e=o("verify",t);return e&&n.indexOf(e)>-1?e:"normal"}})(e?e.strictness:null,s),l="true"===o("verify-message",s)||s.length&&!r("verify-message",s).length,c=i.length&&"false"!==o("primary",s),d="false"!==a&&s.length&&("passthrough"===a||r("verify-message",s).length||l);n.push({primary:i,form:s,autocomplete:c,verify:d,enrich:d||c,create_message:l,strictness:a})})),n};!function(){const e=(e,t)=>{window.LobAddressElements||(window.LobAddressElements=M()),t.channel=window.LobAddressElements.channel;const n=n=>{const{enrich:i,form:s}=n,a=s&&s.attr("data-lob-state")||"untouched";"untouched"===a&&i?(s.attr("data-lob-state","enriched"),setTimeout((()=>{const i=new v(e,t,n);window.LobAddressElements||(window.LobAddressElements=M()),window.LobAddressElements.instances.push(i)}),0)):"enriched"!==a||i||s.attr("data-lob-state","untouched")};if((e=>{const i=()=>{A(t).forEach(n)},s=window.MutationObserver||window.WebKitMutationObserver;if(s){new s(i).observe(window.document.body,{subtree:!0,attributes:!0,childList:!0})}i()})(),!A().length)return{do:{init:()=>new v(e,t)}}},t="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js",n="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.37.0/autocomplete.jquery.min.js",i={load:function(){const e=Array.prototype.slice.call(arguments[0]),t=i[e.shift()];t&&t.apply(this,e)},jquery:function(){if(window.jQuery)i.load(arguments);else{const e=arguments,n=document.createElement("script");n.onload=function(){i.load(e)},n.src=t,document.getElementsByTagName("body")[0].appendChild(n)}},jquery_autocomplete:function(){if(window.jQuery.fn.autocomplete)i.load(arguments);else{const e=document.createElement("script"),t=arguments;e.onload=function(){i.load(t)},e.src=n,document.getElementsByTagName("body")[0].appendChild(e)}},address_elements:function(){if(window.LobAddressElements)i.load(arguments);else{const t=window.LobAddressElementsConfig||{};window.LobAddressElements=M();const n=e(window.jQuery,t);n&&window.LobAddressElements.instances.push(n),i.load(arguments)}}};i.load(["jquery","jquery_autocomplete","address_elements"])}()})()})();
//# sourceMappingURL=lob-address-elements-2.1.2.min.js.map